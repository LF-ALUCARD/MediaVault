package devfull.MediaVault.service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import devfull.MediaVault.entities.User;
import devfull.MediaVault.entities.DTO.UserRegisterDTO;
import devfull.MediaVault.entities.enums.UserRole;
import devfull.MediaVault.repositories.UserRepository;

@Service
public class UserService {

	@Autowired
	private UserRepository repositor;
	
	public User Register(UserRegisterDTO obj) {
		User entidade = converter(obj);
		return repositor.save(entidade);
	}
	
	private static User converter(UserRegisterDTO obj) {
		User entidade = new User();
		entidade.setNome(obj.getNome());
		entidade.setEmail(obj.getEmail());
		entidade.setRole(UserRole.valueOfCode(obj.getRole()));
		entidade.setSenha(obj.getSenha());
		return entidade;
	}
}
